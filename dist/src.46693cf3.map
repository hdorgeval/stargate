{"version":3,"sources":["src/app.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["World","width","height","renderer","THREE","WebGLRenderer","alpha","antialias","setPixelRatio","setSize","container","document","getElementsByClassName","scene","Scene","aspectRatio","fieldOfView","nearPlane","farPlane","camera","PerspectiveCamera","position","z","appendChild","domElement","timer","createPlane","render","tunnelmaterial","RawShaderMaterial","vertexShader","getElementById","textContent","fragmentShader","side","BackSide","uniforms","time","type","value","mousePosition","Vector2","tunnelGeometry","CylinderGeometry","applyMatrix","Matrix4","makeRotationX","PI","makeTranslation","tunnel","Mesh","add","starsMaterial","starsGeometry","PlaneGeometry","stars","material","requestAnimationFrame","loop","bind","w","h","aspect","updateProjectionMatrix","mousePos","px","py","rotation","y","x","addEventListener","domIsReady","Math","world","window","innerWidth","innerHeight","handleWindowResize","handleMouseMove","updateSize","e","clientX","clientY","mouseMove","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length","module"],"mappings":"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","file":"src.46693cf3.map","sourceRoot":"..","sourcesContent":["class World {\n    constructor(width, height) {\n  \n      this.renderer = new THREE.WebGLRenderer({\n        alpha: true,\n        antialias: true\n      });\n      this.renderer.setPixelRatio(1);\n      this.renderer.setSize(width, height);\n      this.container = document.getElementsByClassName(\"world\")[0];\n      this.scene = new THREE.Scene();\n      this.width = width;\n      this.height = height;\n      this.aspectRatio = width / height;\n      this.fieldOfView = 50;\n      var nearPlane = .1;\n      var farPlane = 20000;\n      this.camera = new THREE.PerspectiveCamera(this.fieldOfView, this.aspectRatio, nearPlane, farPlane);\n          this.camera.position.z = 300;\n          this.container.appendChild(this.renderer.domElement);\n      this.timer = 0;\n      this.createPlane();\n          this.render();\n    }\n  \n    createPlane(){\n      this.tunnelmaterial = new THREE.RawShaderMaterial({\n        vertexShader: document.getElementById( 'vertTunnelShader' ).textContent,\n        fragmentShader: document.getElementById('fragTunnelShader').textContent,\n              side: THREE.BackSide,\n        uniforms: { \n                  time: { type: 'f', value: 0 },\n                  mousePosition: {type: 'v2', value: new THREE.Vector2( 0.5, 0.5 ) }\n          }\n      });\n      this.tunnelGeometry = new THREE.CylinderGeometry( 40, 40, 250, 50, 1, true);\n          this.tunnelGeometry.applyMatrix( new THREE.Matrix4().makeRotationX(PI/2));\n          this.tunnelGeometry.applyMatrix( new THREE.Matrix4().makeTranslation(0,0,200));\n      this.tunnel = new THREE.Mesh(this.tunnelGeometry, this.tunnelmaterial);\n          this.scene.add(this.tunnel);\n          \n          this.starsMaterial = new THREE.RawShaderMaterial({\n        vertexShader: document.getElementById( 'vertStarsShader' ).textContent,\n        fragmentShader: document.getElementById('fragStarsShader').textContent,\n              uniforms: { \n                  time: { type: 'f', value: 0 },\n                  mousePosition: {type: 'v2', value: new THREE.Vector2( 0.5, 0.5 ) }\n          }\n      });\n          \n          this.starsGeometry = new THREE.PlaneGeometry(120,120,1,1);\n          this.stars = new THREE.Mesh(this.starsGeometry, this.starsMaterial);\n          this.stars.position.z = -10;\n          this.scene.add(this.stars);\n    }\n      \n    render() {\n      this.timer+=.005;\n          this.tunnel.material.uniforms.time.value = this.timer;\n          this.stars.material.uniforms.time.value = this.timer;\n      this.renderer.render(this.scene, this.camera);\n    }\n  \n    loop() {\n      this.render();\n          requestAnimationFrame(this.loop.bind(this));\n    }\n  \n    updateSize(w, h) {\n      this.renderer.setSize(w, h);\n      this.camera.aspect = w / h;\n      this.camera.updateProjectionMatrix();\n    }\n    mouseMove(mousePos) {\n          if (this.tunnel){\n              this.tunnel.material.uniforms.mousePosition.value = new THREE.Vector2(mousePos.px, -mousePos.py);\n              this.tunnel.rotation.y = -mousePos.px*3;\n              this.tunnel.rotation.x = -mousePos.py*.09;\n              \n              this.stars.material.uniforms.mousePosition.value = new THREE.Vector2(mousePos.px, -mousePos.py);\n              \n          }\n    }\n  };\n  \n  document.addEventListener(\"DOMContentLoaded\", domIsReady);\n  let mousePos = {x:0, y:0, px:0, py:0};\n  let PI = Math.PI;\n  let world;\n  \n  function domIsReady() {\n      world = new World(this.container, this.renderer, window.innerWidth, window.innerHeight);\n      window.addEventListener('resize', handleWindowResize, false);\n      document.addEventListener(\"mousemove\", handleMouseMove, false);\n      handleWindowResize();\n      world.loop();\n  }\n  \n  function handleWindowResize() {\n      world.updateSize(window.innerWidth, window.innerHeight);\n  }\n  \n  function handleMouseMove(e) {\n      mousePos.x = e.clientX;\n      mousePos.y = e.clientY;\n      mousePos.px = mousePos.x / window.innerWidth * 2 - 1;\n      mousePos.py = mousePos.y / window.innerHeight * 2 - 1;\n      world.mouseMove(mousePos);\n  }","import './app.css';\nimport './app.js';","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}